# =============================================================================
# AgenticFlow Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your actual API keys and settings
# DO NOT commit .env to version control
#
# This template follows the shared/secrets.py configuration structure
# =============================================================================

# -----------------------------------------------------------------------------
# Environment Configuration
# -----------------------------------------------------------------------------
ENVIRONMENT=development
# Options: development, dev, staging, production, prod, test

DEBUG=false
# Enable debug mode with additional logging (automatically true for dev)

APP_NAME=agenticflow
APP_VERSION=1.0.0

# -----------------------------------------------------------------------------
# LLM Provider API Keys
# -----------------------------------------------------------------------------
# OpenAI API Key - Required for GPT-4/GPT-3.5 models
# Get your key at: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# Anthropic API Key - Optional, for Claude models
# Get your key at: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here

# Cohere API Key - Optional, for Cohere models
# Get your key at: https://dashboard.cohere.com/api-keys
COHERE_API_KEY=your-cohere-api-key-here

# HuggingFace API Key - Optional, for HuggingFace models
# Get your key at: https://huggingface.co/settings/tokens
HUGGINGFACE_API_KEY=your-huggingface-api-key-here

# Together AI API Key - Optional
TOGETHER_API_KEY=your-together-api-key-here

# OpenRouter API Key - Optional
OPENROUTER_API_KEY=your-openrouter-api-key-here

# -----------------------------------------------------------------------------
# Search API Keys
# -----------------------------------------------------------------------------
# Tavily Search API Key - Required for web search
# Get your key at: https://tavily.com/
TAVILY_API_KEY=tvly-your-tavily-api-key-here

# SerpAPI Key - Optional, for Google Search
SERPAPI_KEY=your-serpapi-key-here

# -----------------------------------------------------------------------------
# LangSmith Tracing (Optional)
# -----------------------------------------------------------------------------
# Enable LangSmith tracing for debugging
LANGCHAIN_TRACING=false
LANGCHAIN_API_KEY=your-langchain-api-key-here
LANGCHAIN_PROJECT=agenticflow

# -----------------------------------------------------------------------------
# Model Configuration
# -----------------------------------------------------------------------------
# Default OpenAI model
DEFAULT_OPENAI_MODEL=gpt-4-turbo-preview
# Options: gpt-4-turbo-preview, gpt-4, gpt-3.5-turbo, gpt-4o

# Default Anthropic model
DEFAULT_ANTHROPIC_MODEL=claude-3-opus-20240229
# Options: claude-3-opus-20240229, claude-3-sonnet-20240229

# Model temperature (0.0 - 2.0)
MODEL_TEMPERATURE=0.7

# Max tokens for generation
MODEL_MAX_TOKENS=2048

# -----------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# -----------------------------------------------------------------------------
# Full PostgreSQL connection string (overrides individual settings)
DATABASE_URL=postgresql://postgres:password@localhost:5432/agenticflow

# Or configure individual components:
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=agenticflow
DATABASE_USER=postgres
DATABASE_PASSWORD=your-database-password

# SQLite fallback database path
SQLITE_DB_PATH=./data/app.db

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
# Full Redis connection string (overrides individual settings)
REDIS_URL=redis://localhost:6379/0

# Or configure individual components:
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_USE_SSL=false
REDIS_MAX_CONNECTIONS=50

# -----------------------------------------------------------------------------
# Celery Configuration
# -----------------------------------------------------------------------------
# Celery broker URL (defaults to Redis if not set)
CELERY_BROKER_URL=redis://localhost:6379/1

# Celery result backend (defaults to Redis if not set)
CELERY_RESULT_BACKEND=redis://localhost:6379/1

# Task serialization
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json

# Task settings
CELERY_TIMEZONE=UTC
CELERY_TASK_TRACK_STARTED=true
CELERY_TASK_TIME_LIMIT=1800
CELERY_WORKER_PREFETCH_MULTIPLIER=4
CELERY_WORKER_MAX_TASKS_PER_CHILD=1000

# -----------------------------------------------------------------------------
# JWT Authentication Configuration
# -----------------------------------------------------------------------------
# Secret key for JWT token signing (REQUIRED in production)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-secret-key-here-generate-with-python

# JWT algorithm
JWT_ALGORITHM=HS256

# Token expiration
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# -----------------------------------------------------------------------------
# API Configuration
# -----------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000
API_PREFIX=/api

# CORS settings
CORS_ORIGINS=http://localhost:3000,http://localhost:8501
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=*

# Security settings
SECURE_COOKIES=true
COOKIE_SAMESITE=lax
MAX_REQUEST_SIZE=10

# -----------------------------------------------------------------------------
# Vector Store Configuration
# -----------------------------------------------------------------------------
# ChromaDB (local vector store)
CHROMA_PATH=./data/chroma

# Qdrant (distributed vector store)
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_API_KEY=
QDRANT_COLLECTION=agenticflow

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: text or json
LOG_FORMAT=text

# Log file path (leave empty for stdout only)
LOG_FILE=

# Log rotation and retention
LOG_ROTATION=10 MB
LOG_RETENTION=30 days

# -----------------------------------------------------------------------------
# Rate Limiting Configuration
# -----------------------------------------------------------------------------
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
ENABLE_METRICS=true
ENABLE_TRACING=false
ENABLE_CACHE=true
CACHE_TTL=3600

# -----------------------------------------------------------------------------
# Workflow Configuration
# -----------------------------------------------------------------------------
# Maximum number of iterations/steps per workflow execution
MAX_ITERATIONS=10

# Timeout in seconds for each agent step
TIMEOUT_SECONDS=300

# Enable/disable human-in-the-loop checkpoints
ENABLE_HUMAN_CHECKPOINT=true

# -----------------------------------------------------------------------------
# Development Settings
# -----------------------------------------------------------------------------
# Enable hot reload during development
RELOAD=true

# Number of worker processes for uvicorn
WORKERS=1
